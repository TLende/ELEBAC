/*
 * Flash_driver.h
 *
 *  Created on: Feb 22, 2025
 *      Author: Thomas
 */

#ifndef INC_FLASH_DRIVER_H_
#define INC_FLASH_DRIVER_H_

#define numBLOCK 1024  //Antall blokker
#define numPAGES 65536 //Antall sider totalt. 64 sider per. blokk
#define numBYTES 2048  //Antall bytes per. side

//Software
void Read_Register(void);
void Write_to_page(void);
void Write_Data(uint8_t* data, uint16_t lenght);
void Read_Data(uint16_t page, uint8_t* data, uint16_t len);
void Automatic_Block_Managment(uint16_t Page_Index);
void Chip_Erase(void);
void Read_Data_Cont(uint16_t len);
void Flash_Init(uint8_t BUF);
uint32_t Read_ID(void);
uint8_t Read_Status_Register(uint8_t SR);

typedef enum{
OP_Dev_Res = 0xFF,
OP_JEDEC_ID = 0x9F00,
OP_Write_Enable = 0x06,
OP_Write_Disable = 0x04,
OP_Block_Erase = 0xD8,
OP_Load_Program_Data = 0x02,
OP_Program_Ex = 0x10,
OP_Page_Data_Read = 0x13,
OP_Read_Data = 0x03,
OP_Fast_Read = 0x0B,
}OPCODE;

void Write_Data_Flash(uint16_t Page_Addr);
#endif /* INC_FLASH_DRIVER_H_ */
